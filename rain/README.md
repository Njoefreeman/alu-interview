The task is to implement a function `rain(walls)` that takes a list of non-negative integers representing the heights of walls and calculates the total amount of rainwater that
can be retained between the walls after it rains. The walls are viewed as a `cross-section` of a `relief map`, and the `width` between walls is assumed to be `1 unit`. The function should return an integer indicating the total amount of rainwater retained. It is important to note that the ends of the list, before index 0 and after `index walls[-1]`, are not considered as walls, meaning they will not retain water. If the list is empty, the function should `return 0`.
